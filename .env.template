# =========================
# milvus-admin-ui (.env)
# =========================
# Copy this file to ".env" and adjust values as needed.

# --- Vector DB (Milvus) ---
MILVUS_HOST=127.0.0.1
MILVUS_PORT=19530
MILVUS_HEALTH_PORT=9091
# Alternative to host/port (e.g., http://host:19530 or https://milvus.example.com)
# MILVUS_URI=
# MILVUS_USER=
# MILVUS_PASSWORD=
# MILVUS_DB=default

# --- Server / UI ---
UI_PORT=7860

# --- Security ---
# Require this header on protected endpoints: X-Admin-Token: <value>
# Leave empty to disable auth.
ADMIN_TOKEN=
# Control remote exposure of certain endpoints
ALLOW_REMOTE_UPLOAD=true
ALLOW_REMOTE_SYNC=false

# --- RAG / Embeddings defaults ---
RAG_MODEL=sentence-transformers/all-MiniLM-L6-v2
# cpu | cuda | auto (if available)
RAG_DEVICE=cpu
# Preload the embedding model at server start (speeds up first query)
RAG_PRELOAD=0
# Embed batching (higher = faster, more RAM/VRAM)
RAG_BATCH_SIZE=32

# --- Ingestion / Chunking ---
RAG_CHUNK_SIZE=512
RAG_OVERLAP=64
RAG_OCR=0
RAG_LANG_DETECT=1
RAG_DEDUPE=1

# Use the in-process extraction pipeline (Docling backend).
# If disabled or CLI missing, server can fall back to CLI tools.
USE_EXTRACTION_INGEST=1
# Back-compat flag name (treated same as above if set)
USE_DOCLING_INGEST=

# --- Paths ---
# Server-side default roots
DATA_SOURCE_ROOT=./data
UPLOAD_WORKDIR=./uploads

# --- Search tuning (optional; depends on index type) ---
MILVUS_NPROBE=10
MILVUS_EF=64

# --- Logging (extraction/docling instrumentation) ---
# INFO for normal, DEBUG for profiling
EXTRACT_LOG_LEVEL=INFO

# =========================
# Optional: Object Storage
# =========================
# Choose your storage by setting one block below and using the ingest wizards.

# ---- Generic S3-compatible (AWS S3, MinIO, Wasabi, DO Spaces, etc.) ----
# S3_ENDPOINT=https://s3.amazonaws.com        # or https://minio.local:9000
# S3_REGION=us-east-1
# S3_ACCESS_KEY=
# S3_SECRET_KEY=
# S3_BUCKET=my-bucket
# S3_PREFIX=documents/                        # optional prefix, may be empty
# S3_USE_PATH_STYLE=0                         # 1 for MinIO/compat if needed

# ---- IBM Cloud Object Storage (COS) ----
# COS_ENDPOINT=https://s3.us-south.cloud-object-storage.appdomain.cloud
# COS_REGION=us-south
# COS_API_KEY=
# COS_INSTANCE_ID=
# COS_BUCKET=my-cos-bucket
# COS_PREFIX=documents/

# =========================
# CORS (optional)
# =========================
# Comma-separated list of allowed origins (leave empty for default behavior)
# ALLOW_ORIGINS=http://localhost:3000,https://my-ui.example.com
